#include <stm32f405xx.h>

uint8_t Sensorstatus;

int main(void) {
  // IR sensor
  RCC -> AHB1ENR |= (1 << 2);
  GPIOC -> MODER |= (0 << 14);

  //Enable clock GPIO(LED)
  RCC -> AHB1ENR |= (1 << 2);
  //SET GPIO pin 6 (LED) as output
  GPIOC -> MODER &= ~(1 << 12);
  GPIOC -> MODER |= (1 << 12);
  while (1) {
    //Toggle LED on PC6
    if ((GPIOC -> IDR) & (1 << 7)) {
      GPIOC -> ODR &= ~(1 << 6);
    }
    else {
      GPIOC -> ODR |= (1 << 6);
    }
  }

  return 0;
}
